<div class="container-fluid">
  <div class="page-header filled full-block light">
    <div class="row">
      <div class="col-md-6">
        <h2> تقریر بمدفوعات العملاء</h2>

      </div>
      <div class="col-md-6">
        <ul class="list-page-breadcrumb">
          <li>
            <a href="#">الرئيسية
              <i class="zmdi zmdi-chevron-right"></i>
            </a>
          </li>
          <li class="active-page"> تقریر بمدفوعات العملاء </li>
        </ul>
      </div>
    </div>
  </div>

  <div class="row">

    <div class="col-md-12">
      <div class="col-md-12">
        <form action="#" class="j-forms" novalidate="">

          <div class="form-content">

            <div class="w-section-header">
              <h3>تنقيه سريعه</h3>
            </div>

            <div class="row">
              <div class="col-md-2">
                <div class="unit">
                  <label class="input select">
                    <select class="form-control" [(ngModel)]="CompanyName" [ngModelOptions]="{standalone: true}">
                      <option value="" selected> إسم الدائن</option>
                      <option value="{{s.CompanyName}}" *ngFor="let s of allComps">{{s.CompanyName}}</option>

                    </select>
                    <i></i>
                  </label>
                </div>
              </div>
              <div class="col-md-2">
                <div class="unit">
                  <label class="input select">
                    <input class="form-control" [(ngModel)]="DebName" [ngModelOptions]="{standalone: true}" placeholder="رقم هوية المدين">
                  </label>
                </div>
              </div>
              <div class="col-md-2">
                <div class="unit">
                  <label class="input select">
                    <input class="form-control" [(ngModel)]="EmpName" [ngModelOptions]="{standalone: true}" placeholder="رقم الموظف">
                  </label>
                </div>
              </div>
              <!-- 

              <div class="col-md-6">
                <div class="col-md-6 unit">
                  <div class="input">
                    <label class="icon-right" for="timepic-1">

                      <i class="fa fa-calendar">من</i>
                    </label>
                    <input class="form-control" type="date" placeholder="اليوم" [(ngModel)]="date1" [ngModelOptions]="{standalone: true}">
                  </div>
                </div>
                <div class="col-md-6 unit">

                  <div class="input">
                    <label class="icon-right" for="timepic-2">
                      <i class="fa fa-calendar">الي</i>
                    </label>
                    <input class="form-control" type="date" name="timepic-12" placeholder="اليوم" [(ngModel)]="date2"
                      [ngModelOptions]="{standalone: true}">
                  </div>
                </div>
              </div> -->
            </div>
            <button class="btn btn-info" (click)="ExportoCsv()"><i class="zmdi zmdi-archive"></i> Excel file</button>

            <!-- end popup time interval -->

          </div>
          <!-- end /.content -->

        </form>
      </div>



      <div class="widget-wrap  material-table-widget">
        <div class="widget-container margin-top-0">
          <div class="widget-content table-responsive">
            <table class="table table-striped">
              <thead>
                <tr>
                  <th>إسم الدائن</th>
                  <th>إسم المدين</th>
                  <th>رقم هوية المدين</th>
                  <th> العقد</th>
                  <th> الدين</th>
                  <th> المدفوع</th>
                  <th> المتبقي</th>
                  <th> نسبه التحصيل</th>
                  <th>اسم الموظف</th>
                  <th>رقم هوية الموظف</th>
                  <th>اسم المنتج</th>
                  <th>كود المنتج</th>

                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let d of Data | search: 'CompanyName' :  CompanyName : 'DebtorIdentityNumber' : DebName : 'EmployeeID' : EmpName | datefilter : 'Date' : date1 : date2 ">
                  <td> {{d.CompanyName}} </td>
                  <td> {{d.DebtName}}</td>
                  <td> {{d.DebtorIdentityNumber}}</td>
                  <td>
                    {{d.ContructName}}
                  </td>
                  <td>{{d.Debts}} ريال</td>
                  <td>{{d.Payment}} ريال</td>
                  <td>{{d.Debts - d.Payment}} ريال</td>
                  <td>{{ (d.Payment / d.Debts ) * 100 | number}} % </td>
                  <td>{{d.EmployeeName}}</td>
                  <td> {{d.EmployeeIdentityNumber}}</td>
                  <td>
                    <ul>
                      <li *ngFor="let s of d.ProductName">{{s}}</li>
                    </ul>
                  </td>
                  <td>
                    <ul>
                      <li *ngFor="let s of d.ProductCode">{{s}}</li>
                    </ul>
                  </td>

                </tr>
              </tbody>


            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
